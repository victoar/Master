{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../services/cinema.service\";\nimport * as i4 from \"@angular/forms\";\nexport let ReserveTicketComponent = /*#__PURE__*/(() => {\n  class ReserveTicketComponent {\n    constructor(route, datePipe, cinemaService) {\n      this.route = route;\n      this.datePipe = datePipe;\n      this.cinemaService = cinemaService;\n      this.nameInput = \"\";\n      this.emailInput = \"\";\n      this.phoneNumberInput = \"\";\n      this.clientid = \"\";\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(data => {\n        this.cinemaService.getScheduleById(data.scheduleid).subscribe(res => {\n          this.schedule = res[0];\n        });\n      });\n    }\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return this.datePipe.transform(date, 'dd MMM');\n    }\n    onProceedClick() {\n      if (this.nameInput != \"\" && this.emailInput != \"\" && this.phoneNumberInput != \"\") {\n        this.cinemaService.addClient(this.nameInput, this.emailInput, this.phoneNumberInput).subscribe(res => {\n          this.clientid = res.clientid;\n          console.log(this.clientid);\n        });\n      }\n    }\n  }\n  ReserveTicketComponent.ɵfac = function ReserveTicketComponent_Factory(t) {\n    return new (t || ReserveTicketComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.DatePipe), i0.ɵɵdirectiveInject(i3.CinemaService));\n  };\n  ReserveTicketComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ReserveTicketComponent,\n    selectors: [[\"app-reserve-ticket\"]],\n    decls: 41,\n    vars: 11,\n    consts: [[1, \"main-content\"], [1, \"reserve-ticket-container\"], [1, \"movie-info-container\"], [1, \"info-row\"], [1, \"day-cell\"], [1, \"time-cell\"], [1, \"cinema-cell\"], [1, \"price-cell\"], [1, \"director-cell\"], [1, \"duration-cell\"], [1, \"genre-cell\"], [1, \"break-line\"], [1, \"input-row\"], [\"placeholder\", \"Name\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"E-mail\", 3, \"ngModel\", \"ngModelChange\"], [\"placeholder\", \"Phone Number\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"]],\n    template: function ReserveTicketComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n        i0.ɵɵtext(4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4);\n        i0.ɵɵtext(7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 6);\n        i0.ɵɵtext(11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 7);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 8);\n        i0.ɵɵtext(15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"div\", 9);\n        i0.ɵɵtext(17);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 10);\n        i0.ɵɵtext(19);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelement(20, \"hr\", 11)(21, \"br\")(22, \"br\");\n        i0.ɵɵelementStart(23, \"h2\");\n        i0.ɵɵtext(24, \"Personal information\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"p\");\n        i0.ɵɵtext(26, \"Please fill in the following inputs and proceed to the next step\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 12)(28, \"label\");\n        i0.ɵɵtext(29, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"input\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function ReserveTicketComponent_Template_input_ngModelChange_30_listener($event) {\n          return ctx.nameInput = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(31, \"div\", 12)(32, \"label\");\n        i0.ɵɵtext(33, \"E-mail:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(34, \"input\", 14);\n        i0.ɵɵlistener(\"ngModelChange\", function ReserveTicketComponent_Template_input_ngModelChange_34_listener($event) {\n          return ctx.emailInput = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(35, \"div\", 12)(36, \"label\");\n        i0.ɵɵtext(37, \"Phone Number:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function ReserveTicketComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.phoneNumberInput = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(39, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function ReserveTicketComponent_Template_button_click_39_listener() {\n          return ctx.onProceedClick();\n        });\n        i0.ɵɵtext(40, \"Proceed\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.schedule.movie.title);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", \"Date: \" + ctx.formatDate(ctx.schedule.day), \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Time: \" + ctx.schedule.starttime, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Location: \" + ctx.schedule.cinema.name, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Price: \" + ctx.schedule.price + \"lei\", \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Director: \" + ctx.schedule.movie.director, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Duration: \" + ctx.schedule.movie.duration + \"min\", \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", \"Genre: \" + ctx.schedule.movie.genre, \" \");\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngModel\", ctx.nameInput);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.emailInput);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.phoneNumberInput);\n      }\n    },\n    dependencies: [i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".reserve-ticket-container[_ngcontent-%COMP%]{margin-top:40px;width:80%;margin-left:10%;margin-bottom:80px}.info-row[_ngcontent-%COMP%]{padding-left:10px;display:grid;grid-template:\\\"cinema-cell day-cell time-cell price-cell\\\" \\\"director-cell duration-cell genre-cell genre-cell\\\";grid-template-columns:250px 200px 200px auto;gap:10px;height:60px;width:100%;align-items:center}.day-cell[_ngcontent-%COMP%]{grid-area:day-cell}.time-cell[_ngcontent-%COMP%]{grid-area:time-cell}.cinema-cell[_ngcontent-%COMP%]{grid-area:cinema-cell}.price-cell[_ngcontent-%COMP%]{grid-area:price-cell}.duration-cell[_ngcontent-%COMP%]{grid-area:duration-cell}.director-cell[_ngcontent-%COMP%]{grid-area:director-cell}.genre-cell[_ngcontent-%COMP%]{grid-area:genre-cell}.break-line[_ngcontent-%COMP%]{width:20%;border:2px solid #001F3F}input[_ngcontent-%COMP%]{font-size:16px;background-color:transparent;border:0;border-bottom:2px solid #001F3F;outline:none;box-shadow:none;border-radius:4px}button[_ngcontent-%COMP%]{background-color:#001f3f;border-radius:15px;border:1px solid #FFFAF0;color:#fffaf0;opacity:.8;padding:10px 15px;box-shadow:0 2px 5px #0003;transition:color .3s ease-in-out,opacity .3s ease-in-out}button[_ngcontent-%COMP%]:hover{color:gold;opacity:.7}.input-row[_ngcontent-%COMP%]{width:400px;display:flex;justify-content:space-between;margin-bottom:20px}\"]\n  });\n  return ReserveTicketComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}