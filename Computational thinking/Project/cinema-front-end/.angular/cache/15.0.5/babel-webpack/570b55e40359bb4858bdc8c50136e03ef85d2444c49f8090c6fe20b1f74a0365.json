{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/cinema.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ScheduleComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cinema_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", cinema_r2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(cinema_r2.name);\n  }\n}\nfunction ScheduleComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 12);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 13);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 14);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 15)(10, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function ScheduleComponent_div_14_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const schedule_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.goToReserveTicket(schedule_r3));\n    });\n    i0.ɵɵtext(11, \"Reserve\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const schedule_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatDate(schedule_r3.day), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", schedule_r3.starttime, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", schedule_r3.cinema.name, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", schedule_r3.movie.title, \" \");\n  }\n}\nexport let ScheduleComponent = /*#__PURE__*/(() => {\n  class ScheduleComponent {\n    constructor(cinemaService, router, datePipe) {\n      this.cinemaService = cinemaService;\n      this.router = router;\n      this.datePipe = datePipe;\n      this.schedules = [];\n      this.cinemas = [];\n      //   { cinemaid: 1, name: 'Cinema A', rows: 5, columns: 3 },\n      //   { cinemaid: 2, name: 'Cinema B', rows: 5, columns: 3 },\n      //   { cinemaid: 3, name: 'Cinema C', rows: 5, columns: 3 },\n      // ];\n      this.selectedCinema = \"\";\n    }\n    ngOnInit() {\n      this.cinemaService.getSchedules().subscribe(data => {\n        this.schedules = data;\n        this.cinemaService.getCinemas().subscribe(data => {\n          this.cinemas = data;\n          console.log(this.cinemas[0].rows);\n        });\n      });\n    }\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      return this.datePipe.transform(date, 'dd MMM');\n    }\n    goToReserveTicket(schedule) {\n      this.router.navigate([\"reserve-ticket\"], {\n        queryParams: {\n          scheduleid: schedule.id\n        }\n      });\n    }\n    onCinemaChange() {\n      console.log(this.selectedCinema);\n    }\n  }\n  ScheduleComponent.ɵfac = function ScheduleComponent_Factory(t) {\n    return new (t || ScheduleComponent)(i0.ɵɵdirectiveInject(i1.CinemaService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.DatePipe));\n  };\n  ScheduleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ScheduleComponent,\n    selectors: [[\"app-schedule\"]],\n    decls: 15,\n    vars: 3,\n    consts: [[1, \"main-content\"], [1, \"schedule-container\"], [1, \"break-line\"], [1, \"cinema-filter\"], [\"for\", \"cinemaFilter\"], [\"id\", \"cinemaFilter\", \"name\", \"cinema\", 3, \"ngModel\", \"ngModelChange\", \"change\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"movie-row\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"movie-row\"], [1, \"day-cell\"], [1, \"time-cell\"], [1, \"cinema-cell\"], [1, \"title-cell\"], [1, \"button-cell\"], [3, \"click\"]],\n    template: function ScheduleComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n        i0.ɵɵtext(3, \"Choose your favorite screening\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(4, \"hr\", 2)(5, \"br\");\n        i0.ɵɵelementStart(6, \"div\", 3)(7, \"label\", 4);\n        i0.ɵɵtext(8, \"Filter by cinema:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"select\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function ScheduleComponent_Template_select_ngModelChange_9_listener($event) {\n          return ctx.selectedCinema = $event;\n        })(\"change\", function ScheduleComponent_Template_select_change_9_listener() {\n          return ctx.onCinemaChange();\n        });\n        i0.ɵɵelementStart(10, \"option\", 6);\n        i0.ɵɵtext(11, \"All\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(12, ScheduleComponent_option_12_Template, 2, 2, \"option\", 7);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵtemplate(14, ScheduleComponent_div_14_Template, 12, 4, \"div\", 8);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.selectedCinema);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.cinemas);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.schedules);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\"h2[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.schedule-container[_ngcontent-%COMP%]{margin-top:40px;width:80%;margin-left:10%;margin-bottom:80px}.break-line[_ngcontent-%COMP%], .break-line-right[_ngcontent-%COMP%]{width:20%;border:2px solid #001F3F}.break-line-right[_ngcontent-%COMP%]{margin-left:80%}.movie-row[_ngcontent-%COMP%]{padding-left:10px;display:grid;grid-template:\\\"day-cell time-cell cinema-cell title-cell button-cell\\\";grid-template-columns:120px 120px 160px 500px auto;gap:10px;height:80px;width:100%;border-bottom:1px solid #001F3F;border-bottom-left-radius:10px;align-items:center}.day-cell[_ngcontent-%COMP%]{grid-area:day-cell}.time-cell[_ngcontent-%COMP%]{grid-area:time-cell}.cinema-cell[_ngcontent-%COMP%]{grid-area:cinema-cell}.title-cell[_ngcontent-%COMP%]{grid-area:title-cell;font-weight:700}.button-cell[_ngcontent-%COMP%]{grid-area:button-cell}.button-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#001f3f;border-radius:15px;border:1px solid #FFFAF0;color:#fffaf0;opacity:.8;padding:10px 15px;box-shadow:0 2px 5px #0003;transition:color .3s ease-in-out,opacity .3s ease-in-out}.button-cell[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:gold;opacity:.7}label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;font-family:Roboto,sans-serif;margin-right:8px}select[_ngcontent-%COMP%]{padding:5px;font-size:16px;background-color:transparent;border:0;border-bottom:2px solid #001F3F;outline:none;box-shadow:none;border-radius:4px}\"]\n  });\n  return ScheduleComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}